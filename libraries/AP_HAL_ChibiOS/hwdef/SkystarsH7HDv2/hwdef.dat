# hw definition file for processing by chibios_pins.py
# for SkystarsH7HDv2

include ../SkystarsH7HD-bdshot/hwdef.dat

undef PA0 PA1 PA2 PA3 DEFAULT_SERIAL6_PROTOCOL

# USART6
PC6 USART6_TX USART6 NODMA
PC7 USART6_RX USART6 NODMA

SPIDEV icm42688_1  SPI1 DEVID1 BMI270_CS1 MODE3  1*MHZ  16*MHZ
SPIDEV icm42688_2  SPI4 DEVID4 BMI270_CS2 MODE3  1*MHZ  16*MHZ

SERIAL_ORDER OTG1 USART1 USART2 USART3 UART4 UART5 USART6 UART7 UART8 OTG2

IMU Invensensev3 SPI:icm42688_1 ROTATION_ROLL_180_YAW_90
IMU Invensensev3 SPI:icm42688_2 ROTATION_ROLL_180

# MOTORS
PA0 TIM5_CH1 TIM5 PWM(5) GPIO(54) BIDIR # M5
PA1 TIM5_CH2 TIM5 PWM(6) GPIO(55)       # M6
PA2 TIM5_CH3 TIM5 PWM(7) GPIO(56) BIDIR # M7
PA3 TIM5_CH4 TIM5 PWM(8) GPIO(57)       # M8

DMA_PRIORITY TIM3* TIM4* TIM5* SPI1* SPI3* SPI4* TIM1*
DMA_NOSHARE TIM3* TIM4* TIM5* SPI1* SPI4*

define DEFAULT_SERIAL3_PROTOCOL SerialProtocol_ESCTelemetry
define DEFAULT_SERIAL5_PROTOCOL SerialProtocol_SmartAudio
define DEFAULT_SERIAL6_PROTOCOL SerialProtocol_MSP_DisplayPort

# other pin defaults come from hwdefs this one includes
define RELAY4_PIN_DEFAULT 83
