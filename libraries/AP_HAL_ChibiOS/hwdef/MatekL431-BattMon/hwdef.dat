include ../MatekL431/hwdef.inc

# enable battery monitor
define AP_PERIPH_BATTERY_ENABLED 1
define AP_BATTERY_INA239_ENABLED 1
define AP_BATTERY_INA239_SPI_DEVICE "INA23X"
define HAL_BATT_MONITOR_DEFAULT 26
define AP_PERIPH_BATTERY_MODEL_NAME "MatekL431-BattMon"

SPIDEV INA23X SPI1 DEVID1 SPARE_CS MODE1 10*MHZ 10*MHZ

# no ADC pins
define HAL_USE_ADC FALSE

# disable unnecessary threads
define HAL_NO_RCOUT_THREAD
define HAL_NO_TIMER_THREAD

undef HAL_RCIN_THREAD_ENABLED
define HAL_RCIN_THREAD_ENABLED 0
USE_BOOTLOADER_FROM_BOARD MatekL431
