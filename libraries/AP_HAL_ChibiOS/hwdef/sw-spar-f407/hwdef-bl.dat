# MCU class and specific type
MCU STM32F4xx STM32F407xx

FLASH_RESERVE_START_KB 0
FLASH_BOOTLOADER_LOAD_KB 64
FLASH_SIZE_KB 512

# board ID. See Tools/AP_Bootloader/board_types.txt
APJ_BOARD_ID AP_HW_sw-spar-f407

env AP_PERIPH 1

define CAN_APP_NODE_NAME "sw-spar-f407-bl"

# crystal frequency
OSCILLATOR_HZ 8000000

# activity led
PC8 LED_BOOTLOADER OUTPUT LOW
define HAL_LED_ON 1

PA13 JTMS-SWDIO SWD
PA14 JTCK-SWCLK SWD

# ECU - we don't use this at the moment, but it must be enabled for CAN2 to work
PD0 CAN1_RX CAN1
PD1 CAN1_TX CAN1
PD2 GPIO_CAN1_SILENT OUTPUT PUSHPULL SPEED_LOW HIGH 

# Avionics
PB5 CAN2_RX CAN2
PB6 CAN2_TX CAN2
PB7 GPIO_CAN2_SILENT OUTPUT PUSHPULL SPEED_LOW LOW

PA11 OTG_FS_DM OTG1
PA12 OTG_FS_DP OTG1
SERIAL_ORDER OTG1
