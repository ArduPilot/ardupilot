# i2c version of BETAFPV-F405

include ../BETAFPV-F405/hwdef.dat

# undefine the pins we are going to change
undef PB4 PB10 PB11 PC6 PA3 PA2

SERIAL_ORDER OTG1 USART1 EMPTY EMPTY UART4 EMPTY USART6

undef DEFAULT_SERIAL1_PROTOCOL
define DEFAULT_SERIAL1_PROTOCOL SerialProtocol_RCIN
define DEFAULT_SERIAL6_PROTOCOL SerialProtocol_GPS

I2C_ORDER I2C2
PB10 I2C2_SCL I2C2
PB11 I2C2_SDA I2C2
PB4 EXTERN_GPIO1 OUTPUT GPIO(82)
undef RELAY2_PIN_DEFAULT
define RELAY2_PIN_DEFAULT 82

# re-add PC6 without ALT config to ensure correct operation
PC6 USART6_TX USART6

PA3 TIM2_CH4 TIM2 PWM(3) GPIO(52)       # M3
PA2 TIM2_CH3 TIM2 PWM(4) GPIO(53) BIDIR # M4

DMA_NOSHARE SPI1* TIM2_UP TIM3_UP
